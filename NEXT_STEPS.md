# 다음 단계 가이드

## ✅ 완료된 작업

1. ✅ 아키텍처 설계
2. ✅ 스마트 컨트랙트 구현 및 테스트
3. ✅ 백엔드 API 구현 (인증, 이벤트, 티켓, 재판매, 환불)
4. ✅ 프론트엔드 기본 구현
5. ✅ UI/UX 개선

## 🔄 다음에 해야 할 작업

### 우선순위 1: Web3 서비스 구현 (핵심)

**목표**: 백엔드에서 실제 스마트 컨트랙트와 통신

**작업 내용**:
1. `web3` Python 패키지 설치
2. 스마트 컨트랙트 ABI 파일 준비
3. `web3_service.py` 실제 구현
   - 이벤트 생성 (onchain)
   - 이벤트 승인 (onchain)
   - 티켓 구매 (onchain)
   - 재판매 등록/구매
   - 환불 처리

**필요한 것**:
- 로컬 Hardhat 노드 실행
- 배포된 컨트랙트 주소
- 컨트랙트 ABI 파일

---

### 우선순위 2: IPFS 서비스 완성

**목표**: 티켓 메타데이터를 IPFS에 저장

**작업 내용**:
1. Pinata API 키 설정 (또는 다른 IPFS 서비스)
2. 티켓 메타데이터 JSON 생성
3. IPFS 업로드 및 해시 저장
4. 메타데이터 조회 기능

**필요한 것**:
- Pinata 계정 (또는 IPFS 노드)

---

### 우선순위 3: 프론트엔드 Web3 연결

**목표**: 사용자가 지갑을 연결하고 블록체인과 직접 상호작용

**작업 내용**:
1. `ethers.js` 또는 `web3.js` 통합
2. 지갑 연결 기능
3. 트랜잭션 서명 및 전송
4. Account Abstraction 통합 (선택)

**필요한 것**:
- MetaMask 또는 다른 지갑
- 네트워크 설정 (Polygon Mumbai)

---

### 우선순위 4: 통합 테스트

**목표**: 전체 시스템이 함께 작동하는지 확인

**작업 내용**:
1. 로컬 네트워크에서 전체 플로우 테스트
   - 이벤트 생성 → 승인 → 티켓 구매 → 재판매 → 환불
2. 에러 처리 및 예외 상황 테스트
3. 성능 테스트

---

### 우선순위 5: 배포 준비

**목표**: 테스트넷 또는 메인넷 배포

**작업 내용**:
1. 환경 변수 설정
2. 컨트랙트 배포 (Polygon Mumbai)
3. 백엔드 배포
4. 프론트엔드 배포
5. 도메인 및 SSL 설정

---

## 🎯 추천 진행 순서

### 옵션 A: 빠른 통합 테스트 (추천)
1. **Web3 서비스 구현** (1-2시간)
2. **로컬 네트워크 통합 테스트** (1시간)
3. **IPFS 서비스 완성** (30분)
4. **프론트엔드 Web3 연결** (2-3시간)

### 옵션 B: 단계별 완성
1. **Web3 서비스 구현**
2. **IPFS 서비스 완성**
3. **프론트엔드 Web3 연결**
4. **통합 테스트**

---

## 📝 각 단계별 상세 작업

### 1. Web3 서비스 구현

```bash
# 1. 패키지 설치
cd backend
source venv/bin/activate
pip install web3

# 2. ABI 파일 복사
# contracts/artifacts에서 ABI 추출

# 3. web3_service.py 구현
# - 컨트랙트 인스턴스 생성
# - 트랜잭션 전송
# - 이벤트 리스닝
```

### 2. IPFS 서비스 완성

```bash
# 1. Pinata 계정 생성 (https://pinata.cloud)
# 2. API 키 발급
# 3. .env 파일에 추가
PINATA_API_KEY=your_key
PINATA_SECRET_KEY=your_secret

# 4. ipfs_service.py 테스트
```

### 3. 프론트엔드 Web3 연결

```typescript
// 1. 지갑 연결 훅 생성
// 2. 트랜잭션 전송 함수
// 3. Account Abstraction 통합 (선택)
```

---

## 🚀 지금 바로 시작할 수 있는 것

가장 빠르게 진행할 수 있는 것은 **Web3 서비스 구현**입니다:

1. 로컬 Hardhat 노드가 이미 실행 중이면 바로 시작 가능
2. 컨트랙트는 이미 배포되어 있음
3. ABI 파일은 `artifacts` 폴더에 있음

---

## 💡 질문

다음 중 어떤 것부터 진행할까요?

1. **Web3 서비스 구현** - 백엔드와 블록체인 연결
2. **IPFS 서비스 완성** - 메타데이터 저장
3. **프론트엔드 Web3 연결** - 사용자 지갑 연결
4. **통합 테스트** - 전체 시스템 테스트

